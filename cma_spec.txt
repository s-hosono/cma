Cyber Manufacturing Alliance
プロトタイプ案(たたき台)

2025年7月11日
細野 繁

目次

1. CMAシステムアーキテクチャ案
2. AIエージェントの具体案
3. MCデータベース案
4. CMAプロトタイプ開発計画案
5. CMAプロトタイプの展開案
6. 付録

© Tokyo University of Technology

CMAシステムアーキテクチャ案

3

© Tokyo University of Technology

概要

• 仲間回しとは、東京都⼤⽥区内の複数のハブ企業（中⼩企業）が、エリア
外からの製造依頼案件をタスク分解し、傘下の中⼩ものづくり企業に差配
することで、中⼩⼀社では扱えない製造案件の受注を可能とする仕組み
（「仲間回し」と呼ばれる）

• CMA（Cyber Manufacturing Alliance）は、地域外からの製造依頼を受け
付け、AIエージェント群が協調してタスク分解・分析・分配を行い、地域
内の製造企業やアライアンスに最適な形で案件を割り振る「サイバー仲間
回し」システム

• 中⼩製造業の活性化とAI人材育成を同時に実現する社会実装型プラット

フォームになり得る

4

© Tokyo University of Technology

システム構成（レイヤ別）

A. フロントエンド層

• 製造依頼受付Webポータル

• 発注者が図面・仕様書をアップロード
• UI/UXは非専門家でも使いやすい設計
• 地方自治体・商工会議所等が運営

C. データベース層

• 製造企業データベース

• 加工能力、設備、得意分野、過去実績、備考欄などを含む
• 自然言語処理により柔軟なマッチングが可能

• 製造依頼履歴DB

B. AIエージェント群（中核処理層）

• 過去の依頼・マッチング結果・成果を蓄積し、AI学習に活用

• 図面解析エージェント

• 入力図面を解析し、製品の種類・加工方法を推定
• CAD/画像処理＋機械学習モデルを活用

• 加工プロセス分解エージェント

• 図面解析結果をもとに、加工工程をサブタスクに分解
• 工程設計知識ベースと連携

• 企業マッチングエージェント

• 分解されたタスクを企業DBと照合し、最適な企業・アライア

ンスを選定

• 自然言語で記述された備考欄もAIで解析し、精度向上

• レポート生成エージェント

5

• 分配結果を視認性の高いレポートに整形
• 担当職員向けにPDF/HTML形式で出力

© Tokyo University of Technology

アーキテクチャ構成要素とデータフロー

コンポーネント

機能概要

Web Portal

Diagram Analysis Agent

Process Breakdown Agent

Company Matching Agent

Report Generation Agent

製造依頼（図面・仕様書）の受付。
ユーザーインターフェース。
図面を解析し、製品の種類・加工方
法・寸法などを抽出。
加工工程をサブタスクに分解し、加工
順序と装置を設計。
地域企業DBと照合し、最適な企業・ア
ライアンスにタスクを分配。
分配結果をレポート化し、PDF/HTML
形式で出力。

Manufacturing Company Database 加工能力・設備・得意分野・備考など

を含む企業情報を格納。

6

© Tokyo University of Technology

AIエージェントの構成と機能

1. 図面解析エージェント

3. 企業マッチングエージェント

• 目的：製造依頼に含まれる図面を解析し、製品の種類・

• 目的：分解されたタスクを地域企業に最適に割り振る

加工方法を推定

• 機能：

• CAD画像・PDF図面の読み取り
• 加工部位（穴、リブ、フランジ等）の抽出
• 加工材質・寸法の推定（例：FC250など）
• 加工装置の推奨（VMC、タッピングセンタ等）

2. 加工プロセス分解エージェント

• 目的：図面解析結果をもとに、加工工程をサブタスクに

分解

• 機能：

• 加工順序の設計（荒削り→穴あけ→仕上げ等）
• 加工装置とのマッピング
• 加工精度・公差の考慮

• 機能：

• 加工能力・設備・得意分野の照合
• 自然言語で記述された備考欄のAI解析 1
• アライアンス単位での最適分配案の生成

4. レポート生成エージェント

• 目的：分配結果を視認性の高いレポートに整形

• 機能：

• タスク分配結果の可視化（表・図）
• 担当職員向け報告書の自動生成（PDF/HTML）
• Webポータル連携による通知機能

7

© Tokyo University of Technology

AIエージェントの具体案

8

© Tokyo University of Technology

①図面解析エージェント（Diagram Analysis Agent）

• 目的：CAD図面やPDFから製品の特徴と加工要件を抽出
• 入力形式：

• ファイル：PDF, CAD（.dwg, .dxf）, 画像（.png, .jpg）
• メタデータ：図面タイトル、図番、材質仕様

• 出力形式：

• 特徴：部品種別、寸法、材質、表面形状、公差
• 推奨加工：加工種別、推奨装置

• 処理ロジック：

• OpenCVで形状・注記を検出
• OCRでテキスト抽出
• 機械学習で部品分類・材質推定
• 加工プロセスへのマッピング

• UI構成：

• ファイルアップロード画面
• 抽出結果のプレビュー
• 手動修正インターフェース

• 使用モデル：

• CNN（画像分類）、OCRモデル、ルールベースマッピング

• 連携：

• ファイルアップロードAPI、特徴データベース

9

© Tokyo University of Technology

①図面解析エージェント（Diagram Analysis Agent）

WebUI例

• ファイルアップロードパネル：CAD/PDF/画像の入力
• 図面プレビューウィンドウ：アップロード図面の表示
• 抽出特徴パネル：材質・寸法・注記の表示
• 手動修正ツール：抽出データの編集
• 送信ボタン：加工工程分解エージェントへ転送

10

© Tokyo University of Technology

①図面解析エージェント（Diagram Analysis Agent）

• 手書き図面入力対応

コンポーネント

機能

画像前処理

傾き補正、ノイズ除去、コントラスト調整

文字認識

構造認識

寸法解析

出力形式

寸法記号、注記、材質指定などの抽出

線分・図形・断面図の検出と分類

数値と単位の抽出、位置関係の推定

JSON（部品名、寸法、材質、加工部位など）

UI改造案（手書き図面対応）
• ファイルアップロード：手書き図面（画像）をドラッグ＆ドロップ
OCRプレビュー：Omni AIによる抽出結果の表示（寸法・注記）
•
• 手動修正パネル：認識ミスの補正
• 加工特徴表示：抽出された加工要件の⼀覧
• 送信ボタン：加工プロセス分解エージェントへ転送

11

© Tokyo University of Technology

②加工プロセス分解エージェント(Process Breakdown Agent)

• 目的：加工要件を工程単位に分解
• 入力形式：

• 抽出特徴：部品種別、寸法、材質、推奨加

工
• 出力形式：

• 工程リスト：加工ステップ、必要装置、所

要時間、精度レベル

• 処理ロジック：

• ルールベースで加工順序を決定
• ナレッジベースから標準工程を参照
• 材質・形状に応じて最適順序を設計

• UI構成：

• 工程フローの可視化
• 編集可能な工程テーブル

• 使用モデル：

• ルールエンジン、工程最適化アルゴリズム

• 連携：

• ナレッジベースAPI、工程DB

12

© Tokyo University of Technology

②加工プロセス分解エージェント(Process Breakdown Agent)

WebUI例

• 特徴サマリーパネル：製品情報の要約表示
• 工程フローデザイナー：ドラッグ＆ドロップで工程設計
• 自動生成工程表：加工ステップとパラメータの⼀覧
• 編集モード：工程の追加・削除・修正
• 保存＆転送ボタン：企業マッチングエージェントへ送信

13

© Tokyo University of Technology

③企業マッチングエージェント(Company Matching Agent)

• 目的：加工工程に適した企業・アライアンスを選定
• 入力形式：

• 工程リスト：加工ステップ、必要装置、精度
• 企業DB：設備、実績、自由記述備考

• 出力形式：

• マッチ結果：企業名、対応工程、信頼スコア、備考

• 処理ロジック：

• 企業備考欄をNLPで解析
• 工程要件と企業能力を照合
• 適合度と空き状況でスコアリング

• UI構成：

• マッチングダッシュボード
• フィルター・ソート機能
• 手動割当インターフェース

• 使用モデル：

• BERTベースNLP、マッチングアルゴリズム

• 連携：

• 企業DB、マッチングAPI

14

© Tokyo University of Technology

③企業マッチングエージェント(Company Matching Agent)

WebUI例

• 工程要件パネル：必要な加工条件の表示
• 企業フィルター＆検索：設備・地域・空き状況で絞り込み
• マッチング結果表：スコア付き企業リスト
• 手動割当パネル：マッチ結果の手動調整
• 割当確定ボタン：企業へのタスク割当を確定

15

© Tokyo University of Technology

④レポート生成エージェント(Report Generation Agent)

• 目的：マッチング結果を人間向けレポートに整形
• 入力形式：

• マッチ結果：企業名、対応工程、信頼スコア

• 出力形式：

• レポート：PDF、HTML、メール通知

• 処理ロジック：

• 結果を表形式に整形
• 工程分配のチャート生成
• テンプレートエンジンでレポート出力

• UI構成：

• レポートプレビュー
• ダウンロード・共有機能

• 使用モデル：

• Jinja2（テンプレート）、ReportLab（PDF生

成）

• 連携：

• Webポータル、メールサービス、レポートDB

16

© Tokyo University of Technology

④レポート生成エージェント(Report Generation Agent)

WebUI例

• レポートプレビュー：PDF/HTML形式で表示
• ダウンロード＆共有ボタン：レポートの出力・送信
• 通知パネル：関係者への通知設定
• コメント・注釈欄：レポートへの追記
• レポート確定ボタン：保存・アーカイブ

17

© Tokyo University of Technology

MCデータベース案

18

© Tokyo University of Technology

①企業データベース（RDB）

フィールド名

CompanyID

CompanyName

Location

Capabilities

型

整数

文字列

文字列

配列（文字列）

Equipment

配列（文字列）

MaterialsHandled

配列（文字列）

Certifications

AllianceMembership

Remarks

配列（文字列）

配列（文字列）

文字列（自然言語）

RecentProjects

AvailabilityStatus

配列（文字列）

文字列

ContactInfo

オブジェクト

説明

⼀意の企業識別子

企業名

所在地（市区町村）

加工能力（例：旋盤加工、フラ
イス加工、放電加工など）

保有設備（例：VMC、NC旋盤、
三次元測定機など）

加工可能な材質（例：アルミ、
鋳鉄、ステンレスなど）

ISO等の認証情報

所属アライアンス名（任意）

備考欄（自由記述）— AIによる
意味解析対象 1

最近の加工実績（任意）

稼働状況（例：稼働中、繁忙、
休止中など）

担当者名、電話番号、メールア
ドレスなど

19

© Tokyo University of Technology

②製造情報データベース（ベクトルDB）
• マッチングフロー（AIエージェント連携）

• 加工工程（例：「ADC12鋳造品のφ8.5穴あけ」）を自然言語

で記述

• NLPモデルでベクトル化
• ベクトルDBで類似企業を検索（Top-k）
• フィルター条件（地域、空き状況）で絞り込み
• スコア付きマッチ結果を企業マッチングエージェントに返却

• 利点

• 書式に依存しない柔軟な検索
• 備考欄や実績の意味を理解したマッチング
• 新しい加工技術や表現にも対応可能
• 地域・設備・稼働状況との組み合わせで精度向上

20

© Tokyo University of Technology

②製造情報データベース（ベクトルDB）

フィールド名

Capabilities

内容

加工能力（例：旋盤加工、放電
加工）

ベクトル化の目的

類似加工技術の検索

Equipment

保有設備（例：VMC、NC旋盤） 装置ベースのマッチング

MaterialsHandled

加工材質（例：アルミ、鋳鉄） 材質対応力の類似性評価

Remarks

備考欄（自然言語）

経験・得意分野・対応履歴の意
味解析

RecentProjects

最近の加工実績（自然言語）

実績ベースの類似性検索

コンポーネント

Embedding Engine

Vector Index

Metadata Store

Query Engine

Hybrid Search

説明

BERTベースの文埋め込みモデル（日本語対応）

FAISS（IVF+Flat）またはMilvus（HNSW）

PostgreSQL / MongoDBで企業情報を保持

加工工程の自然言語記述をベクトル化し、類似企業を検索

ベクトル検索＋フィルター（地域、設備、稼働状況など

21

© Tokyo University of Technology

データベース利用イメージ

• TF-IDFベースでベクトル化した企業特徴の⼀部

• この結果は、PDF内の「企業データベースのサンプル」セクションか
ら抽出された自然言語記述（例：備考欄や加工能力）をベクトル化し
たものです。企業ごとの特徴を数値ベクトルとして表現することで、
AIによる類似性検索やマッチングが可能になります。

22

© Tokyo University of Technology

CMAプロトタイプ開発計画案

23

© Tokyo University of Technology

プロトタイプ開発計画案

フェーズ

Phase 1: アーキテクチャ & 要件
定義

Phase 2: エージェントプロトタ
イプ開発

期間

3ヶ月

主な内容

システム構成とエージェントの役割定義、データモデ
ルとUI要件設計、企業DBスキーマ準備

3ヶ月

各AIエージェントの初期プロトタイプ構築

Phase 3: 統合 & テスト

3ヶ月

Phase 4: フィールド実験

3ヶ月

Phase 5: 本格開発 & 運用準備

3ヶ月

ワークフロー統合、シミュレーションテスト、PBL参
加者からのフィードバック収集

日野市での実証展開、性能モニタリング、UIとロジッ
クの改善

セキュリティ・スケーラビリティ対応、運用展開準備、
地域関係者への研修

24

© Tokyo University of Technology

CMAプロトタイプの展開案

25

© Tokyo University of Technology

CMAプロトタイプの実証計画案

• 参加企業：未定
• 運用パートナー：未定
• 実証方法：未定
• 効果測定：未定

26

© Tokyo University of Technology

CMAプロトタイプの展開案

1. 教育・社会実装との連携

• PBL型教育との統合

• 学生がAIエージェントの開発・運用に参加
• 実経験を通じた高度AI人材育成

• 自治体・団体職員のリスキリング

• システム運用を通じてAI活用スキルを習得

2. 発展的展望

• AI社会実装研究センターの設立

• CMAを起点に、他の社会課題にも対応可能なAIシステム開発を推進
• 都の「AI活用ジャパンモデル」構築に貢献

• CMAの事業化

• ICT企業へのCMAのサービス事業化提案
• ICT企業によるCMAの社会実装

27

© Tokyo University of Technology

付録

28

© Tokyo University of Technology

不明な点

• ニーズ

✓ 日野市内の製造業中⼩企業の真のニーズを捉えているか？
✓ 蒲⽥の「仲間廻し」の文化は、日野市の中⼩企業にも存在するか？
✓ 手書きの図面は、今も使われているのか？

• リソース

✓ プロジェクトに関わる中⼩企業は？何社あるか？

• プロジェクトの早い段階からユーザとなる中⼩企業（数社）の協力が必要

✓ プロジェクトのキーパーソンとなるプロジェクトリーダの人材確保？

• プロジェクトマネジメントの経験とスキル
• プログラミングを担うエンジニア・プログラマへの仕様提示、作業管理
• CMA成果物を事業化できるICT企業（LLMクラウド）のエンジニアがベスト

✓ CMAの受け皿となって事業化を担うICT企業の想定は？
✓ ⼤学（脳数）とエンジニア（工数）の分担とコストイメージを認識しているか？

• 都立⼤の関わる教員構成は？
• エンジニア（工数）のコストが、圧倒的に多くなる

✓ 予算規模は？

• プロトタイプ（PoC）実験と、社会実装（実運用）は開発の予算規模感がケタ違い

29

© Tokyo University of Technology


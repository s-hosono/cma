<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Assignments</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Meiryo, sans-serif; margin: 0; background:#f7f9fc; }
      .container { max-width:900px; margin:20px auto; background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; }
      h1 { font-size:20px; margin:4px 0 12px; }
      table { width:100%; border-collapse: collapse; }
      th, td { border-bottom:1px solid #e5e7eb; padding:8px; text-align:left; font-size:14px; }
      a.btn { display:inline-block; padding:8px 12px; background:#2563eb; color:#fff; border-radius:8px; text-decoration:none; }
      .tabs { display:flex; gap:16px; margin-bottom:12px; }
      .tab { color:#6b7280; text-decoration:none; padding:6px 2px; border-bottom:2px solid transparent; }
      .tab.active { color:#1d4ed8; border-color:#1d4ed8; font-weight:600; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="tabs">
        <a class="tab" href="/match/ui">Tasks</a>
        <a class="tab" href="/companies">Companies</a>
        <a class="tab active" href="/assignments">Assignments</a>
        <a class="tab" href="/reports">Reports</a>
      </div>
    <h1>Assignments</h1>
    <table>
        <thead>
      <tr><th>ID</th><th>Task</th><th>Company</th><th>Drawing</th><th>Created</th></tr>
        </thead>
        <tbody>
          {% for it in items %}
            <tr>
              <td>{{ it.id }}</td>
              <td>{{ it.task_name }}</td>
              <td>{{ it.company_name }}</td>
        <td>{{ it.drawing_file or '-' }}</td>
        <td>{{ it.created_at }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      <div style="margin-top:12px; display:flex; gap:8px;">
        <a class="btn" href="/match/ui">Go to Company Matching</a>
        <a class="btn" href="#" onclick="goBack('/match/ui')" style="background:#6b7280">Back</a>
      </div>
    </div>
    <script>
      function goBack(fallback){ try{ if (window.history.length > 1){ window.history.back(); } else { window.location.href = fallback || '/'; } } catch(e){ window.location.href = fallback || '/'; } }
    </script>
  </body>
 </html>
